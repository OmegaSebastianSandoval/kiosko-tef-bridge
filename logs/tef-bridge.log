{"level":"info","message":"=== Iniciando Puente TEF II ===","service":"tef-bridge","timestamp":"2026-01-30 12:16:23"}
{"level":"info","message":"Node.js v22.17.0","service":"tef-bridge","timestamp":"2026-01-30 12:16:23"}
{"level":"info","message":"Entorno: development","service":"tef-bridge","timestamp":"2026-01-30 12:16:23"}
{"level":"info","message":"Conectando a COM3...","service":"tef-bridge","timestamp":"2026-01-30 12:16:23"}
{"level":"info","message":"Puertos disponibles: /dev/tty.debug-console, /dev/tty.Bluetooth-Incoming-Port, /dev/tty.G435SEBluetoothGamingHe","service":"tef-bridge","timestamp":"2026-01-30 12:16:23"}
{"level":"warn","message":"No se encontró puerto serial. Activando modo mock...","service":"tef-bridge","timestamp":"2026-01-30 12:16:23"}
{"level":"info","message":"Servidor HTTP en http://localhost:3000","service":"tef-bridge","timestamp":"2026-01-30 12:16:23"}
{"level":"info","message":"=== Servicio listo ===","service":"tef-bridge","timestamp":"2026-01-30 12:16:23"}
{"level":"info","message":"Recibido SIGINT, cerrando servicio...","service":"tef-bridge","timestamp":"2026-01-30 12:21:46"}
{"level":"info","message":"=== Iniciando Puente TEF II ===","service":"tef-bridge","timestamp":"2026-01-30 12:21:49"}
{"level":"info","message":"Node.js v22.17.0","service":"tef-bridge","timestamp":"2026-01-30 12:21:49"}
{"level":"info","message":"Entorno: mock","service":"tef-bridge","timestamp":"2026-01-30 12:21:49"}
{"level":"info","message":"Conectando a COM3...","service":"tef-bridge","timestamp":"2026-01-30 12:21:49"}
{"level":"info","message":"Puertos disponibles: /dev/tty.debug-console, /dev/tty.Bluetooth-Incoming-Port, /dev/tty.G435SEBluetoothGamingHe","service":"tef-bridge","timestamp":"2026-01-30 12:21:49"}
{"level":"warn","message":"No se encontró puerto serial. Activando modo mock...","service":"tef-bridge","timestamp":"2026-01-30 12:21:49"}
{"level":"info","message":"Servidor HTTP en http://localhost:3000","service":"tef-bridge","timestamp":"2026-01-30 12:21:49"}
{"level":"info","message":"=== Servicio listo ===","service":"tef-bridge","timestamp":"2026-01-30 12:21:49"}
{"amount":100000,"cashierId":"MAC_USER","iac":100,"level":"info","message":"Solicitud de compra recibida","sendPan":true,"service":"tef-bridge","terminalId":"MAC01","timestamp":"2026-01-30 12:28:02","transactionId":"MAC_TEST"}
{"level":"error","message":"Error en endpoint /purchase:","service":"tef-bridge","timestamp":"2026-01-30 12:28:02"}
{"amount":100000,"cashierId":"MAC_USER","iac":100,"level":"info","message":"Solicitud de compra recibida","sendPan":true,"service":"tef-bridge","terminalId":"MAC01","timestamp":"2026-01-30 12:33:06","transactionId":"MAC_TEST"}
{"level":"error","message":"Error en endpoint /purchase:","service":"tef-bridge","timestamp":"2026-01-30 12:33:06"}
{"amount":100000,"cashierId":"MAC_USER","iac":100,"level":"info","message":"Solicitud de compra recibida","sendPan":true,"service":"tef-bridge","terminalId":"MAC01","timestamp":"2026-01-30 12:34:55","transactionId":"MAC_TEST"}
{"level":"error","message":"Error en endpoint /purchase:","service":"tef-bridge","timestamp":"2026-01-30 12:34:55"}
{"level":"info","message":"Recibido SIGINT, cerrando servicio...","service":"tef-bridge","timestamp":"2026-01-30 12:36:00"}
{"level":"info","message":"Modo desarrollo detectado, activando modo mock","service":"tef-bridge","timestamp":"2026-01-30 12:38:24"}
{"level":"info","message":"=== Iniciando Puente TEF II ===","service":"tef-bridge","timestamp":"2026-01-30 12:38:24"}
{"level":"info","message":"Node.js v22.17.0","service":"tef-bridge","timestamp":"2026-01-30 12:38:24"}
{"level":"info","message":"Entorno: mock","service":"tef-bridge","timestamp":"2026-01-30 12:38:24"}
{"level":"info","message":"=== CONEXIÓN MOCK INICIADA ===","service":"tef-bridge","timestamp":"2026-01-30 12:38:24"}
{"level":"info","message":"Simulando conexión con datáfono...","service":"tef-bridge","timestamp":"2026-01-30 12:38:24"}
{"level":"info","message":"Servidor HTTP en http://localhost:3000","service":"tef-bridge","timestamp":"2026-01-30 12:38:24"}
{"level":"info","message":"=== Servicio listo ===","service":"tef-bridge","timestamp":"2026-01-30 12:38:24"}
{"level":"info","message":"Conexión mock establecida","service":"tef-bridge","timestamp":"2026-01-30 12:38:25"}
{"amount":100000,"cashierId":"MAC_USER","iac":100,"level":"info","message":"Solicitud de compra recibida","sendPan":true,"service":"tef-bridge","terminalId":"MAC01","timestamp":"2026-01-30 12:38:28","transactionId":"MAC_TEST"}
{"level":"info","message":"=== SIMULANDO TRANSMISIÓN TEF ===","service":"tef-bridge","timestamp":"2026-01-30 12:38:28"}
{"level":"info","message":"Mock: Enviando respuesta con PAN (paso 1 del flujo)","service":"tef-bridge","timestamp":"2026-01-30 12:38:30"}
{"amount":100000,"level":"info","message":"Compra procesada","service":"tef-bridge","success":false,"timestamp":"2026-01-30 12:38:31","transactionId":"MAC_TEST"}
{"amount":12200,"cashierId":"1","iac":100,"level":"info","message":"Solicitud de compra recibida","sendPan":true,"service":"tef-bridge","terminalId":"1","timestamp":"2026-01-30 14:12:36","transactionId":"3"}
{"level":"info","message":"=== SIMULANDO TRANSMISIÓN TEF ===","service":"tef-bridge","timestamp":"2026-01-30 14:12:36"}
{"level":"info","message":"Mock: Enviando respuesta con PAN (paso 1 del flujo)","service":"tef-bridge","timestamp":"2026-01-30 14:12:39"}
{"amount":12200,"level":"info","message":"Compra procesada","service":"tef-bridge","success":false,"timestamp":"2026-01-30 14:12:40","transactionId":"3"}
{"amount":12200,"cashierId":"1","iac":100,"level":"info","message":"Solicitud de compra recibida","sendPan":true,"service":"tef-bridge","terminalId":"1","timestamp":"2026-01-30 14:12:47","transactionId":"3"}
{"level":"info","message":"=== SIMULANDO TRANSMISIÓN TEF ===","service":"tef-bridge","timestamp":"2026-01-30 14:12:47"}
{"level":"info","message":"Mock: Enviando respuesta con PAN (paso 1 del flujo)","service":"tef-bridge","timestamp":"2026-01-30 14:12:51"}
{"amount":12200,"level":"info","message":"Compra procesada","service":"tef-bridge","success":false,"timestamp":"2026-01-30 14:12:52","transactionId":"3"}
{"amount":100000,"cashierId":"MAC_USER","iac":100,"level":"info","message":"Solicitud de compra recibida","sendPan":true,"service":"tef-bridge","terminalId":"MAC01","timestamp":"2026-01-30 14:17:24","transactionId":"MAC_TEST"}
{"level":"info","message":"=== SIMULANDO TRANSMISIÓN TEF ===","service":"tef-bridge","timestamp":"2026-01-30 14:17:24"}
{"level":"info","message":"Mock: Enviando respuesta con PAN (paso 1 del flujo)","service":"tef-bridge","timestamp":"2026-01-30 14:17:27"}
{"amount":100000,"level":"info","message":"Compra procesada","service":"tef-bridge","success":false,"timestamp":"2026-01-30 14:17:28","transactionId":"MAC_TEST"}
{"level":"info","message":"Recibido SIGINT, cerrando servicio...","service":"tef-bridge","timestamp":"2026-01-30 14:17:35"}
{"level":"info","message":"Modo desarrollo detectado, activando modo mock","service":"tef-bridge","timestamp":"2026-01-30 14:17:36"}
{"level":"info","message":"=== Iniciando Puente TEF II ===","service":"tef-bridge","timestamp":"2026-01-30 14:17:36"}
{"level":"info","message":"Node.js v22.17.0","service":"tef-bridge","timestamp":"2026-01-30 14:17:36"}
{"level":"info","message":"Entorno: mock","service":"tef-bridge","timestamp":"2026-01-30 14:17:36"}
{"level":"info","message":"=== CONEXIÓN MOCK INICIADA ===","service":"tef-bridge","timestamp":"2026-01-30 14:17:36"}
{"level":"info","message":"Simulando conexión con datáfono...","service":"tef-bridge","timestamp":"2026-01-30 14:17:36"}
{"level":"info","message":"Servidor HTTP en http://localhost:3000","service":"tef-bridge","timestamp":"2026-01-30 14:17:36"}
{"level":"info","message":"=== Servicio listo ===","service":"tef-bridge","timestamp":"2026-01-30 14:17:36"}
{"level":"info","message":"Conexión mock establecida","service":"tef-bridge","timestamp":"2026-01-30 14:17:37"}
{"amount":100000,"cashierId":"MAC_USER","iac":100,"level":"info","message":"Solicitud de compra recibida","sendPan":true,"service":"tef-bridge","terminalId":"MAC01","timestamp":"2026-01-30 14:17:41","transactionId":"MAC_TEST"}
{"level":"info","message":"=== SIMULANDO TRANSMISIÓN TEF ===","service":"tef-bridge","timestamp":"2026-01-30 14:17:41"}
{"level":"info","message":"Mock: Transacción aprobada","service":"tef-bridge","timestamp":"2026-01-30 14:17:42"}
{"amount":100000,"level":"info","message":"Compra procesada","service":"tef-bridge","success":true,"timestamp":"2026-01-30 14:17:42","transactionId":"MAC_TEST"}
{"amount":12200,"cashierId":"1","iac":100,"level":"info","message":"Solicitud de compra recibida","sendPan":true,"service":"tef-bridge","terminalId":"1","timestamp":"2026-01-30 14:17:53","transactionId":"3"}
{"level":"info","message":"=== SIMULANDO TRANSMISIÓN TEF ===","service":"tef-bridge","timestamp":"2026-01-30 14:17:53"}
{"level":"info","message":"Mock: Transacción aprobada","service":"tef-bridge","timestamp":"2026-01-30 14:17:54"}
{"amount":12200,"level":"info","message":"Compra procesada","service":"tef-bridge","success":true,"timestamp":"2026-01-30 14:17:54","transactionId":"3"}
{"amount":12200,"cashierId":"1","iac":100,"level":"info","message":"Solicitud de compra recibida","sendPan":true,"service":"tef-bridge","terminalId":"1","timestamp":"2026-01-30 14:17:59","transactionId":"3"}
{"level":"info","message":"=== SIMULANDO TRANSMISIÓN TEF ===","service":"tef-bridge","timestamp":"2026-01-30 14:17:59"}
{"level":"info","message":"Mock: Transacción aprobada","service":"tef-bridge","timestamp":"2026-01-30 14:18:01"}
{"amount":12200,"level":"info","message":"Compra procesada","service":"tef-bridge","success":true,"timestamp":"2026-01-30 14:18:01","transactionId":"3"}
{"amount":12200,"cashierId":"1","iac":100,"level":"info","message":"Solicitud de compra recibida","sendPan":true,"service":"tef-bridge","terminalId":"1","timestamp":"2026-01-30 14:19:19","transactionId":"3"}
{"level":"info","message":"=== SIMULANDO TRANSMISIÓN TEF ===","service":"tef-bridge","timestamp":"2026-01-30 14:19:19"}
{"level":"info","message":"Mock: Transacción aprobada","service":"tef-bridge","timestamp":"2026-01-30 14:19:20"}
{"amount":12200,"level":"info","message":"Compra procesada","service":"tef-bridge","success":true,"timestamp":"2026-01-30 14:19:20","transactionId":"3"}
{"amount":12200,"cashierId":"1","iac":100,"level":"info","message":"Solicitud de compra recibida","sendPan":true,"service":"tef-bridge","terminalId":"1","timestamp":"2026-01-30 14:19:24","transactionId":"3"}
{"level":"info","message":"=== SIMULANDO TRANSMISIÓN TEF ===","service":"tef-bridge","timestamp":"2026-01-30 14:19:24"}
{"level":"info","message":"Mock: Transacción aprobada","service":"tef-bridge","timestamp":"2026-01-30 14:19:25"}
{"amount":12200,"level":"info","message":"Compra procesada","service":"tef-bridge","success":true,"timestamp":"2026-01-30 14:19:25","transactionId":"3"}
{"amount":12200,"cashierId":"1","iac":100,"level":"info","message":"Solicitud de compra recibida","sendPan":true,"service":"tef-bridge","terminalId":"1","timestamp":"2026-01-30 14:20:17","transactionId":"3"}
{"level":"info","message":"=== SIMULANDO TRANSMISIÓN TEF ===","service":"tef-bridge","timestamp":"2026-01-30 14:20:17"}
{"level":"info","message":"Mock: Transacción aprobada","service":"tef-bridge","timestamp":"2026-01-30 14:20:19"}
{"amount":12200,"level":"info","message":"Compra procesada","service":"tef-bridge","success":true,"timestamp":"2026-01-30 14:20:19","transactionId":"3"}
{"level":"info","message":"Recibido SIGINT, cerrando servicio...","service":"tef-bridge","timestamp":"2026-01-30 15:19:45"}
{"level":"info","message":"Modo desarrollo detectado, activando modo mock","service":"tef-bridge","timestamp":"2026-02-09 14:34:25"}
{"level":"info","message":"=== Iniciando Puente TEF II ===","service":"tef-bridge","timestamp":"2026-02-09 14:34:25"}
{"level":"info","message":"Node.js v22.17.0","service":"tef-bridge","timestamp":"2026-02-09 14:34:25"}
{"level":"info","message":"Entorno: development","service":"tef-bridge","timestamp":"2026-02-09 14:34:25"}
{"level":"info","message":"Conectando a COM3...","service":"tef-bridge","timestamp":"2026-02-09 14:34:25"}
{"level":"info","message":"Puertos disponibles: /dev/tty.debug-console, /dev/tty.Bluetooth-Incoming-Port, /dev/tty.G435SEBluetoothGamingHe","service":"tef-bridge","timestamp":"2026-02-09 14:34:25"}
{"level":"warn","message":"No se encontró puerto serial. Activando modo mock...","service":"tef-bridge","timestamp":"2026-02-09 14:34:25"}
{"level":"info","message":"Servidor HTTP en http://localhost:3000","service":"tef-bridge","timestamp":"2026-02-09 14:34:25"}
{"level":"info","message":"=== Servicio listo ===","service":"tef-bridge","timestamp":"2026-02-09 14:34:25"}
{"level":"info","message":"Recibido SIGTERM, cerrando servicio...","service":"tef-bridge","timestamp":"2026-02-09 15:35:17"}
{"level":"info","message":"Modo desarrollo detectado, activando modo mock","service":"tef-bridge","timestamp":"2026-02-09 15:35:17"}
{"level":"info","message":"=== Iniciando Puente TEF II ===","service":"tef-bridge","timestamp":"2026-02-09 15:35:17"}
{"level":"info","message":"Node.js v22.17.0","service":"tef-bridge","timestamp":"2026-02-09 15:35:17"}
{"level":"info","message":"Entorno: development","service":"tef-bridge","timestamp":"2026-02-09 15:35:17"}
{"level":"info","message":"Conectando a COM3...","service":"tef-bridge","timestamp":"2026-02-09 15:35:17"}
{"level":"info","message":"Puertos disponibles: /dev/tty.debug-console, /dev/tty.Bluetooth-Incoming-Port, /dev/tty.G435SEBluetoothGamingHe","service":"tef-bridge","timestamp":"2026-02-09 15:35:17"}
{"level":"warn","message":"No se encontró puerto serial. Activando modo mock...","service":"tef-bridge","timestamp":"2026-02-09 15:35:17"}
{"level":"info","message":"Servidor HTTP en http://localhost:3000","service":"tef-bridge","timestamp":"2026-02-09 15:35:17"}
{"level":"info","message":"=== Servicio listo ===","service":"tef-bridge","timestamp":"2026-02-09 15:35:17"}
{"level":"info","message":"Recibido SIGTERM, cerrando servicio...","service":"tef-bridge","timestamp":"2026-02-09 15:35:20"}
{"level":"info","message":"Modo desarrollo detectado, activando modo mock","service":"tef-bridge","timestamp":"2026-02-09 15:35:20"}
{"level":"info","message":"=== Iniciando Puente TEF II ===","service":"tef-bridge","timestamp":"2026-02-09 15:35:20"}
{"level":"info","message":"Node.js v22.17.0","service":"tef-bridge","timestamp":"2026-02-09 15:35:20"}
{"level":"info","message":"Entorno: development","service":"tef-bridge","timestamp":"2026-02-09 15:35:20"}
{"level":"info","message":"Conectando a COM3...","service":"tef-bridge","timestamp":"2026-02-09 15:35:20"}
{"level":"info","message":"Puertos disponibles: /dev/tty.debug-console, /dev/tty.Bluetooth-Incoming-Port, /dev/tty.G435SEBluetoothGamingHe","service":"tef-bridge","timestamp":"2026-02-09 15:35:20"}
{"level":"warn","message":"No se encontró puerto serial. Activando modo mock...","service":"tef-bridge","timestamp":"2026-02-09 15:35:20"}
{"level":"info","message":"Servidor HTTP en http://localhost:3000","service":"tef-bridge","timestamp":"2026-02-09 15:35:20"}
{"level":"info","message":"=== Servicio listo ===","service":"tef-bridge","timestamp":"2026-02-09 15:35:20"}
{"level":"info","message":"Recibido SIGHUP, cerrando servicio...","service":"tef-bridge","timestamp":"2026-02-09 15:44:22"}
